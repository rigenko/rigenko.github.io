$(document).ready(function(){$('form[data-form="form"]').submit(function(){var t=$(this),e=!1;if(t.find('input[type="text"]').length&&t.find('input[type="text"]').each(function(){""==$(this).val()&&(alert('Зaпoлнитe пoлe "'+$(this).attr("placeholder")+'"!'),e=!0)}),!e&&t.find('input[name="user_email"]').length){var n=t.find('input[name="user_email"]').val();/^([a-z0-9_\.-])+[@][a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test(n)||(alert("Формат email неправильный"),e=!0)}if(!e){var a=new FormData;t.find('input[type="file"]')[0]&&jQuery.each(t.find('input[type="file"]')[0].files,function(t,e){a.append("attachment[]",e)}),t.find('input[type="file"]')[1]&&jQuery.each(t.find('input[type="file"]')[1].files,function(t,e){a.append("attachment[]",e)}),t.find('input[type="file"]')[2]&&jQuery.each(t.find('input[type="file"]')[2].files,function(t,e){a.append("attachment[]",e)}),t.find("input[name]:not([type=checkbox])").length&&jQuery.each(t.find("input[name]:not([type=checkbox])"),function(){var t=$(this);a.append(t.attr("name"),t.val())}),t.find("textarea").length&&a.append(t.find("textarea").attr("name"),t.find("textarea").val()),t.find("select").length&&jQuery.each(t.find("select"),function(){var t=$(this);a.append(t.attr("name"),t.val())}),t.find('input[type="checkbox"]').length&&jQuery.each(t.find('input[type="checkbox"]'),function(){var t=$(this);t.is(":checked")&&a.append(t.attr("name"),t.val())}),t.find('input[type="radio"]').length&&jQuery.each(t.find('input[type="radio"]'),function(){var t=$(this);t.is(":checked")&&a.append(t.attr("name"),t.val())});var i=t.attr("action");$.ajax({type:"POST",url:i,dataType:"json",data:a,processData:!1,contentType:!1,cashe:!1,beforeSend:function(e){t.find('button[type="submit"]').attr("disabled","disabled")},success:function(t){"error"==t.result?alert(t.error):alert("Письмo oтпрaвлeнo!")},error:function(t,e,n){alert(t.status),alert(n)},complete:function(e){t.find('button[type="submit"]').prop("disabled",!1),t.find('input[type="text"]').val(""),t.find("textarea").val(""),t.find('input[type="file"]').val("")}})}return!1})});